(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{253:function(e,t,o){var content=o(346);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(37).default)("2c9fdfaa",content,!0,{sourceMap:!1})},254:function(e,t,o){var content=o(348);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(37).default)("6759f5ab",content,!0,{sourceMap:!1})},345:function(e,t,o){"use strict";var n=o(253);o.n(n).a},346:function(e,t,o){(t=o(36)(!1)).push([e.i,"#person_details_container[data-v-d66d755a]{top:50px;padding:50px;width:100%;position:absolute;height:100%;background:hsla(0,0%,78.4%,.8);z-index:2;text-align:center}#person_details[data-v-d66d755a]{width:auto;text-align:left;vertical-align:top;margin:auto;display:inline-block;display:relative;background-color:#fff;z-index:2;border:0 solid grey;padding:3px 10px;border-radius:5px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.close[data-v-d66d755a]{font-size:16px;background-color:grey;color:#fff;border-radius:3px;float:right;cursor:pointer}.close[data-v-d66d755a]:hover{background-color:#d3d3d3;color:#000}.photo[data-v-d66d755a]{width:auto;height:200px;margin:0 10px}.details[data-v-d66d755a],.photo[data-v-d66d755a]{display:inline-block}.details[data-v-d66d755a]{width:350px;text-align:left;vertical-align:top}.tab[data-v-d66d755a]{margin-bottom:10px;width:400px}.prop[data-v-d66d755a]{width:120px;color:grey;text-align:left}.must[data-v-d66d755a]{color:red}.tab .val[data-v-d66d755a]{color:#000;text-align:left;width:400px}.tab .val1[data-v-d66d755a]{width:250px}.section[data-v-d66d755a]{color:grey;font-weight:600}.im[data-v-d66d755a]{width:100%}.personname[data-v-d66d755a]{width:100%;text-align:left;padding:10px;color:#000;font-size:24px;font-weight:600;margin-bottom:10px}table td[data-v-d66d755a],table td *[data-v-d66d755a]{vertical-align:top}.role[data-v-d66d755a]{color:grey}.dep[data-v-d66d755a]{cursor:pointer}.dep[data-v-d66d755a]:hover{background-color:#add8e6}.btn[data-v-d66d755a]{text-align:center;-moz-column-span:2;column-span:2}.btn button[data-v-d66d755a]{padding:10px;cursor:pointer;margin-bottom:10px}.btn1[data-v-d66d755a]{padding:10px 20px;border:2px solid green;border-radius:5px;color:#fff;background-color:green;cursor:pointer}.btn1[data-v-d66d755a]:disabled{color:grey;border:2px solid #d3d3d3;background-color:#d3d3d3;cursor:not-allowed}.nophoto[data-v-d66d755a]{font-size:200px;color:#d3d3d3}",""]),e.exports=t},347:function(e,t,o){"use strict";var n=o(254);o.n(n).a},348:function(e,t,o){(t=o(36)(!1)).push([e.i,":focus{outline:0}body{overflow:hidden}#move_dept,body{background-color:#fff}#move_dept{position:absolute;width:114px;height:50px;text-align:center;font-size:11px;vertical-align:middle;display:flex;border-radius:3px;align-items:center;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;margin:4px auto;padding:2px;box-sizing:border-box;top:0;left:0;border:1px dashed #006696}",""]),e.exports=t},349:function(e,t,o){"use strict";o.r(t);o(68),o(26),o(17),o(13),o(51);var n=o(27),r=o(273),l=o(272),d=o(274),c=o(255),m=(o(128),o(29),o(38));function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={computed:v(v({},Object(m.d)(["showPerson","config","people","chart","orgArray","editMode","activeDepartment"])),{},{employeeID:{get:function(){return this.$store.state.showPerson.id},set:function(e){this.$store.commit("setShowPersonID",e)}},employeePhoto:{get:function(){return this.$store.state.showPerson.photo},set:function(e){this.$store.commit("setShowPersonPhoto",e)}},employeeName:{get:function(){return this.$store.state.showPerson.name},set:function(e){this.$store.commit("setShowPersonName",e)}},employeeCountry:{get:function(){return this.$store.state.showPerson.country},set:function(e){this.$store.commit("setShowPersonCountry",e)}},employeeCity:{get:function(){return this.$store.state.showPerson.city},set:function(e){this.$store.commit("setShowPersonCity",e)}},employeeStreet:{get:function(){return this.$store.state.showPerson.street},set:function(e){this.$store.commit("setShowPersonStreet",e)}},employeeEmail:{get:function(){return this.$store.state.showPerson.email},set:function(e){this.$store.commit("setShowPersonEmail",e)}},employeePhone:{get:function(){return this.$store.state.showPerson.phone},set:function(e){this.$store.commit("setShowPersonPhone",e)}},employeeFunctionName:{get:function(){return this.$store.state.showPerson.functionName},set:function(e){this.$store.commit("setShowPersonFunctionName",e)}},employeeHomePage:{get:function(){return this.$store.state.showPerson.homepage},set:function(e){this.$store.commit("setShowPersonHomePage",e)}},photoUrl:function(){return this.showPerson.photo?this.config.photoUrl.prefix+this.showPerson.photo+this.config.photoUrl.suffix:null},personAssignments:function(){return this.showPerson.departments}}),mounted:function(){console.log(this.showPerson)},methods:v(v(v({},Object(m.c)(["setShowPerson","addPerson","updateActiveDepartmentManager","addAssignment"])),Object(m.b)(["setShowDepartment"])),{},{goto:function(e){console.log(e),this.setShowPerson(null),this.setShowDepartment(e)},gotoExtProfile:function(e){var t=this.config.linkUrl.prefix+e.id+this.config.linkUrl.suffix;window.open(t,"_blank")},markPhotoNotFound:function(e){console.log("person photo not found",e)},addEmployee:function(e){if(console.log("adding",e),this.people.find((function(p){return p.id==e.id})))alert("A person with this id already exists");else{var t=e.manager;this.addPerson(e),this.setShowPerson(null),t?this.updateActiveDepartmentManager(e):this.addAssignment({department:this.activeDepartment,person:e,role:""})}}})},y=(o(345),o(28)),w=Object(y.a)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"person_details_container"}},[o("div",{attrs:{id:"person_details"}},[o("i",{staticClass:"material-icons close",on:{click:function(t){return e.setShowPerson(null)}}},[e._v("close")]),e.showPerson.name?o("div",{staticClass:"personname"},[e._v(e._s(e.showPerson.name))]):o("div",{staticClass:"personname"},[e._v("Add new employee")]),o("div",{staticClass:"content"},[o("div",{staticClass:"photo"},[e.photoUrl?o("img",{staticClass:"im",attrs:{src:e.photoUrl},on:{error:function(t){return e.markPhotoNotFound(e.showPerson)}}}):o("div",{staticClass:"material-icons nophoto"},[e._v("face")]),e.editMode?[o("span",{staticClass:"prop"},[e._v("Photo id")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.employeePhoto,expression:"employeePhoto"}],staticClass:"val1",domProps:{value:e.employeePhoto},on:{input:function(t){t.target.composing||(e.employeePhoto=t.target.value)}}})]:e._e()],2),o("div",{staticClass:"details"},[o("table",{staticClass:"tab"},[e.config.linkUrl?[o("tr",[o("td",{staticClass:"btn",attrs:{colspan:"2"}},[o("button",{on:{click:function(t){return e.gotoExtProfile(e.showPerson)}}},[e._v("Open profile information")])])])]:[o("tr",[e.editMode?[o("td",{staticClass:"prop must"},[e._v("Name*")]),o("td",{staticClass:"val"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeName,expression:"employeeName"}],staticClass:"val1",domProps:{value:e.employeeName},on:{input:function(t){t.target.composing||(e.employeeName=t.target.value)}}})])]:[o("td",{staticClass:"prop"},[e._v("Name")]),o("td",{staticClass:"val"},[e._v(e._s(e.employeeName))])]],2),o("tr",[o("td",{staticClass:"prop"},[e._v("Email")]),e.editMode?o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeEmail,expression:"employeeEmail"}],staticClass:"val1",domProps:{value:e.employeeEmail},on:{input:function(t){t.target.composing||(e.employeeEmail=t.target.value)}}})]):o("td",[o("a",{attrs:{href:"mailto: "+e.employeeEmail}},[e._v(e._s(e.employeeEmail))])])]),o("tr",[o("td",{staticClass:"prop"},[e._v("Phone")]),e.editMode?o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employeePhone,expression:"employeePhone"}],staticClass:"val1",domProps:{value:e.employeePhone},on:{input:function(t){t.target.composing||(e.employeePhone=t.target.value)}}})]):o("td",[e._v(e._s(e.employeePhone))])]),o("tr",[o("td",{staticClass:"prop"},[e._v("Homepage")]),e.editMode?o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeHomePage,expression:"employeeHomePage"}],staticClass:"val1",domProps:{value:e.employeeHomePage},on:{input:function(t){t.target.composing||(e.employeeHomePage=t.target.value)}}})]):o("td",[o("a",{attrs:{href:e.employeeHomePage,target:"_blank"}},[e._v(e._s(e.employeeHomePage))])])]),o("tr",[o("td",{staticClass:"prop"},[e._v("Country")]),e.editMode?o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeCountry,expression:"employeeCountry"}],staticClass:"val1",domProps:{value:e.employeeCountry},on:{input:function(t){t.target.composing||(e.employeeCountry=t.target.value)}}})]):o("td",[e._v(e._s(e.employeeCountry))])]),o("tr",[o("td",{staticClass:"prop"},[e._v("City")]),e.editMode?o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeCity,expression:"employeeCity"}],staticClass:"val1",domProps:{value:e.employeeCity},on:{input:function(t){t.target.composing||(e.employeeCity=t.target.value)}}})]):o("td",[e._v(e._s(e.employeeCity))])]),o("tr",[o("td",{staticClass:"prop"},[e._v("Street")]),e.editMode?o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeStreet,expression:"employeeStreet"}],staticClass:"val1",domProps:{value:e.employeeStreet},on:{input:function(t){t.target.composing||(e.employeeStreet=t.target.value)}}})]):o("td",[e._v(e._s(e.employeeStreet))])]),o("tr",[o("td",{staticClass:"prop"},[e._v("Function")]),e.editMode?o("td",{staticClass:"val"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeFunctionName,expression:"employeeFunctionName"}],staticClass:"val1",domProps:{value:e.employeeFunctionName},on:{input:function(t){t.target.composing||(e.employeeFunctionName=t.target.value)}}})]):o("td",{staticClass:"val"},[e._v(e._s(e.employeeFunctionName))])]),o("tr",[e.editMode?[o("td",{staticClass:"prop must"},[e._v("Employee ID*")]),o("td",{staticClass:"val"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeID,expression:"employeeID"}],staticClass:"val1",domProps:{value:e.employeeID},on:{input:function(t){t.target.composing||(e.employeeID=t.target.value)}}})])]:[o("td",{staticClass:"prop"},[e._v("Employee ID")]),o("td",{staticClass:"val"},[e._v(e._s(e.employeeID))])]],2)],e.showPerson.new?e._e():o("tr",[o("td",{staticClass:"prop"},[e._v("Departments")]),o("td",{staticClass:"val"},e._l(e.personAssignments,(function(t){return o("div",{staticClass:"dep",on:{click:function(o){return e.goto(t.department)}}},[o("span",[e._v(e._s(t.department.name)+"  ")]),o("span",{staticClass:"role"},[e._v(e._s(t.role))])])})),0)])],2)]),o("div",[e.showPerson.new?o("button",{staticClass:"btn1",attrs:{disabled:!e.employeeID||!e.employeeName},on:{click:function(t){return e.addEmployee(e.showPerson)}}},[e._v("ADD")]):e._e()])])])])}),[],!1,null,"d66d755a",null).exports;function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _={components:{OrgChart:l.a,PageHeader:r.a,SideScreen:d.a,EditMenu:c.a,ShowPerson:w},data:function(){return{page:{left:0,top:0}}},computed:x(x({},Object(m.d)(["chart","activeDepartment","onlyShowParents","showEditMenu","moveDepartment","showPerson"])),{},{urlParam:function(){if(this.showPerson)return{employee:this.showPerson.id};if(!this.activeDepartment)return null;var e;e=this.activeDepartment.showParents?this.onlyShowParents?"only":"all":"hide";var t=this.activeDepartment.showChildren?"show":"hide";return{dept:this.activeDepartment.id,parents:e,children:t}}}),watch:{urlParam:function(e){this.setUrl(e)}},mounted:function(){this.initStore(),this.getUrl(this.$route.query)},methods:x(x({},Object(m.b)(["initStore","setActiveDepartmentById","setActiveEmployeeById","setHideParents","setOnlyShowParents","showChildren"])),{},{onMouseMove:function(e){var t=document.getElementById("chart").getBoundingClientRect();this.page.left=e.clientX-0*t.left+10,this.page.top=e.clientY-0*t.top+10},setUrl:function(e){this.$router.push({path:this.$route.path,query:e})},getUrl:function(e){if(e&&e.employee)return console.log(e.employee),void this.setActiveEmployeeById(e.employee);e&&e.dept&&(this.setActiveDepartmentById(e.dept),"hide"==e.parents?this.setHideParents(!0):"only"==e.parents&&(this.setOnlyShowParents(!0),this.setActiveDepartmentById(e.dept))),this.activeDepartment&&"show"==e.children&&this.showChildren(this.activeDepartment),this.activeDepartment||this.$router.push({path:this.$route.path,query:null})}})},C=(o(347),Object(y.a)(_,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"p-container",on:{mousemove:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"selve",void 0,t.key,void 0)?null:e.onMouseMove(t)}}},[o("page-header"),o("div",{staticClass:"container1",attrs:{id:"xparent"}},[e.chart?o("org-chart"):e._e()],1),e.showEditMenu?o("edit-menu"):e._e(),e.moveDepartment?o("div",{style:{left:e.page.left+"px",top:e.page.top+"px"},attrs:{id:"move_dept"}},[o("div",[e._v(e._s(e.moveDepartment.name))]),e.moveDepartment.children.length?o("i",{staticClass:"material-icons arrow down"},[e._v("arrow_drop_down")]):e._e()]):e._e(),e.chart?o("side-screen"):e._e(),e.showPerson?o("show-person"):e._e()],1)}),[],!1,null,null,null));t.default=C.exports}}]);